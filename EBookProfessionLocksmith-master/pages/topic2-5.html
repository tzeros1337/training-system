<script type="text/javascript">
	// для плавной смены контента
    $(document).ready(function() {
      	$("body").css("display", "none");
    });
</script>
<!DOCTYPE html>
<html>
 <head>
  <link rel="shortcut icon" type="image/ico" href="../images/favicon.png"/>
  <script type="text/javascript" src="../js/jquery-1.4.1.min.js"></script>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>
	2.5 Первые приложения на Kivy и KivyMD
  </title>
  <link href="../css/mystylecontent.css" rel="stylesheet">
  <!-- подключение локальной базы данных -->
  <!-- <script type="text/javascript" src="../js/localdb.js"></script> -->
 </head>
 <body>
	<div class="class">
		<div id="back-top"><a href="#top"><img src="../images/uparrow.png" style="width: 50px; height: 80px;" alt=""></a></div>
	</div>
	<div id="head">
		<a href="../index.html">На главную</a>
		<a href="content.html">Содержание</a>
	</div> 
	<div id="article">
		<div class="parent">
			<div class="child">
				<h1 class="boxShadow10">2.5 Первые приложения на Kivy и KivyMD</h1>
				<br>
<p>Начнем изучение Kivy с написания простейшего приложения,
	состоящего всего из пяти строчек программного кода. В предыдущем
	разделе мы создали проект с именем Kivy_Project, теперь в этом
	проекте создадим новый Python файл с именем First_App. Для этого
	в созданном нами проекте кликнем правой кнопкой мыши на имени
	проекта и в появившемся меню выберем опции: New-> Python File
	(рис.3.1).
	</p>
	<img src="https://sun9-west.userapi.com/sun9-14/s/v1/ig2/taD_ZlsaDd5MGY4pjf1JWMYDi4hChtVR-ieWx1L4Uz3KFSl_7TtGwC_2ClGXG4-9litGFVtxjK-yCD5R_tIq6d1v.jpg?size=593x262&quality=96&type=album">
	<p style="text-align:center"><b>Рис. 3.1. </b>Создание Python файла в среде PyCharm</p>
	<p>В появившемся окне зададим имя новому файлу – First_App
		(рис.3.2.)</p>
		<img src="https://sun9-east.userapi.com/sun9-29/s/v1/ig2/zjGFBXcKdhQr50DIUIlNnFbX8yfFTMbGyuK4x4R4D3jXM_Nf3di_Hv6yO3hf1Y0mfKw5v7mOGrmgF_L3ruQiHO9i.jpg?size=338x138&quality=96&type=album">
<p style="text-align:center"><b>Рис. 3.2. </b>Задание имени Python файлу, создаваемому в среде PyCharm</p>
<p>После того, как будет нажата клавиша Enter, будет создан пустой
	файл с именем First_App.py (рис.3.3.)</p>
	<img src="https://sun9-west.userapi.com/sun9-55/s/v1/ig2/gCDiWXN6uBT3pYnHia9NLKTi6zhZQ9nZGppRB3UwuaMJmEAnFGyoq1hZPx-Wh01l-hcaLVDOcB7cqViUKj1ZwCM-.jpg?size=535x179&quality=96&type=album">
<p style="text-align:center"><b>Рис. 3.3. </b>Python файл с именем First_App.py, созданный в среде PyCharm</p>
<p>Теперь в открывшемся окне редактора файле First_App.py, наберем
	следующий программный код (листинг 1.1).
	</p>
	<br>
	<p><b>Листинг 1.1. Программный код простейшего приложения
		на Kivy (модуль First_App.py)</b><br>
		import kivy. app # импорт фрейморка kivy</p>
		<p>class TestApp (kivy. app. App): # формирование базового класса<br>
			…… …… … …… …… …… … … … … приложения<br>
			……pass<br>
			app = TestApp () # создание объекта (приложения app)<br>
			на основе<br>
			…… …… …… …… …… базового класса<br>
			app.run () # запуск приложения<br>
			В первой строке был выполнен импорт модулей, обеспечивающих
			работу приложений на Kivy (import kivy. app). Далее был сформирован
			базовый класс приложения с именем TestApp. Пока это пустой класс,
			внутри которого не выполняется никаких действий. В следующей
			строке на основе базового класса «kivy. app. App» создан объект app –
			по сути это и есть наше первое приложение. И, наконец, в последней
			строке с использованием метода run будет осуществлен запуск
			приложения с именем app. Вот собственно и все.
			</p>
			<p><b>Примечание.</b><br>
				Одна из особенностей Python заключается в том, что для
				оформления блоков кода вместо привычных фигурных скобок,
				как в C, C ++, Java, используются отступы (или табуляция).
				Отступы – важная концепция языка Python и без правильного их
				оформления в программе будут возникать ошибки. В IDE
				PyCharm пробелы (отступы) формируются автоматически,
				поэтому программистам проще отслеживать правильность
				расстановки пробелов. Если вы переносите программный код
				примеров на свой компьютер из листингов данной книги, то
				внимательно проверяйте правильность расстановки отступов.
				В листингах программ наличие отступов условно показаны
				многоточием.<br>
				Можно запустить наше первое приложение, для этого кликнем
				павой кнопкой в окне редактора программного кода и в открывшемся меню выберем опцию Run «First_App’ (рис.3.4)</p>
				<img src="https://sun9-east.userapi.com/sun9-33/s/v1/ig2/RiF2XcC-DZICRUGlYrcwG84xKyNRpYRjrgXRNKUNvAR-UKMtRq4vrKZrmmhPq4MX4tgXDgKkaz0p2k18n_ibeXKy.jpg?size=440x370&quality=96&type=album">
				<p style="text-align:center"><b>Рис. 3.4. </b> Запуск первого приложения с именем First_App.py в среде PyCharm</p>
				<p>Поле этих действий на экран будет выведено окно созданного
					приложения (рис.3.5).</p>
					<img src="https://sun9-east.userapi.com/sun9-19/s/v1/ig2/Lx0XVe68NmrnqB9T-dYh4pTNebgklcMpoCNw2SRLUdSY8pPRort61n0HzSCWAjqc5YrQhNQsEkM6kNUIL7d0Mvn4.jpg?size=588x463&quality=96&type=album">
					<p style="text-align:center"><b>Рис. 3.5. </b> Окно первого приложения с именем First_App.py, работающего на персональном
						компьютере
						</p>
						<p>На экране появится пустое черное окно с титульной строкой
							в верхней части. В титульной строке будет отображена иконка
							с логотипом Kivy, имя нашего приложения (Test) и три стандартные
							кнопки (свернуть приложение, развернуть приложение, закрыть
							приложение). Поскольку мы для приложения не задавали никаких
							параметров, то все их значения устанавливаются по умолчанию:
							размер окна, цвет экрана (черный), имя приложения формируется
							на основе имени базового класса без символов App, то есть от имени
							базового класса остаются только символы Test. Поскольку в базовом
							классе не было задано никаких визуальных элементов, то окно
							приложения является пустым.<br>
							Размеры окна по умолчанию, будут зависеть от устройства,
							на котором запускается приложение. На вышеприведенном рисунке
							изображены пропорции окна приложения, запущенного на компьютерах, работающих под операционными системами Windows
							и Linux. Если это же приложение будет запущено на мобильном
							устройстве (например, на смартфоне), то пропорции экрана будут
							иными, то есть соответствовать размеру экрана мобильного
							устройства.<br>
							Вопрос о том, как загрузить данное приложение на смартфоне будет
							освещен в последней главе, а пока поэкспериментируем
							с простейшими приложениями на Kivy и KivyMD.<br>
							Напишем приложение, в базовом классе которого будут выполняться
							простейшие действия, например, выведено сообщение – «Привет
							от Kivy». Создадим новый Python файл и напишем в нем следующий
							код (листинг 1.2).</p><br>
							<p><b>Листинг 1.2. Программный код приложения «Привет
от Kivy» (модуль First_App_Kivy.py)</b><br>
# модуль First_App_Kivy.py<br>
import kivy. app # импорт фрейморка kivy<br>
import kivy.uix.label # импорт визуального элемента label
(метка)<br>
class MainApp (kivy. app. App): # формирование базового класса
…… …… …… …… …… …… …… …… …… …… …… ……<br>
приложения<br>
…… def build (self): # формирование функции в базовом классе<br>
…… … … return kivy.uix.label.Label (text=«Привет от Kivy!»)<br>
app = MainApp (title=«Первое приложение на Kivy») #Задание
имени<br>
…… … … … … … … … …… … … … … … … … … … … …<br>
… … …приложения<br>
app.run () # запуск приложения</p><br>
<p>
В данном приложении импортируются уже два модуля: приложение
(import kivy. app), и элемент пользовательского интерфейса label –
метка (import kivy.uix.label). Далее в базовом классе приложения
(MainApp) определяем функцию, называемую build. В этой функции
размещаются виджеты (элементы графического интерфейса), которые появятся на экране при запуске приложения. В нашем примере мы
задали виджет – метка на основе модуля kivy.uix.label
с использованием класса Label, и свойству метки (text), присвоили
значение «Привет от Kivy».<br>
В следующей строке на основе базового класса создан объект app –
наше приложение, и этому приложению задали свое имя (title=«Первое
приложение на Kivy»). И, наконец, в последней строке
с использованием метода run будет осуществлен запуск приложения
с именем app.<br>
Создадим точно такое же простейшее приложение с использованием
библиотеки KivyMD (листинг 1.3).
							</p>
							<p><b>Листинг 1.3. Программный код приложения «Привет
								от KivyMD» (модуль First_App_Kivy_MD.py)</b><br>
								# модуль First_App_Kivy_MD.py<br>
								from kivymd. app import MDApp<br>
								from kivymd.uix.label import MDLabel<br>
								class MainApp (MDApp):<br>
								……def build (self):<br>
								…… … … return MDLabel (text=«Привет от KivyMD!»,
								halign=«center»)<br>
								app = MainApp (title=«Первое приложение на KivyMD»)
								app.run ()<br>
								</p>
<p>Этот программный код по свое структуре практически не отличается
	от предыдущего кода. Разница лишь в том, что мы импортировали
	модули от библиотеки KivyMD (первые две строки), и в строке
	инициализации метки задали ей положение в центре экрана
	(halign=«center»). В библиотеке KivyMD по умолчанию она была бы
	прижата к левой части экрана.<br>
	Если теперь запустить эти два приложения на выполнение, то мы
	получим следующие сообщения (рис.3.6).
	</p>
	<img src="https://sun9-north.userapi.com/sun9-86/s/v1/ig2/nyFF6JJ_AxOhoBK6G9oXAnKgJjsC0FkGsdUkSdIz2bw5TKnvB6O_do-SzpP1X65NFTdi8sf54gTp72FNrqxsY2I_.jpg?size=587x485&quality=96&type=album">
	<p style="text-align:center"><b>Рис. 3.6. </b> Окна первого приложения на Kivy и KivyMD с визуальным элементом</p>
	<p>Из вышеприведенного рисунка видно, что эти приложения
		отличаются только цветом фона окна (для Kivy он по умолчанию
		черный, для KivyMD – белый).<br>
		Следует отметить еще одну особенность, любой визуальный
		элемент занимает все пространство окна и, если не заданы параметры
		его размещения, то для Kivy виджет располагается в центре экрана,
		для KivyMD – прижимается к левому краю экрана. В титульной строке
		приложения мы видим логотип Kivy. Этот логотип задается
		по умолчанию и всегда присутствует в приложениях, которые
		запускаются на настольных компьютерах под Windows, но он будет
		отсутствовать в приложениях, запускаемых на Linux и на смартфонах.
		Однако не зависимо от платформы этот логотип будет отображен на значке запуска приложения. При этом разработчик может
		сопоставить разработанное приложение с любым своим логотипом.<br>
		Внесем изменения в приведенные выше программные коды,
		определив для приложений собственный логотип, и сделав код более
		привычным для программистов. Модифицированный программный
		код приложения на Kivy с указанием собственного логотипа в файле
		pyt. ico, приведен в листинге 1.4.
		</p>
		<p><b>Листинг 1.4. Модифицированный программный код
			приложения на Kivy (модуль First_App_Kivy2)</b><br>
			# модуль First_App_Kivy2.py<br>
from kivy. app import App # импорт приложения фрейморка kivy<br>
from kivy.uix.label import Label # импорт элемента label (метка)<br>
class MainApp (App): # формирование базового класса<br>
приложения<br>
…… def build (self): # формирование функции в базовом классе<br>
…… … … self. title = «Приложение на Kivy’ # Имя приложения<br>
…… … … self. icon =». /pyt. ico’ # иконка (логотип)<br>
приложения<br>
…… … … label = Label (text=«Привет от Kivy и Python!») #<br>
метка<br>
…… … ….return label # возврат значения метки<br>
if __name__ == '__main__': # условие вызова приложения<br>
…… app = MainApp () # Задание приложения<br>
…… app.run () # запуск приложения<br>
			</p>
			<p>Первые две строчки данного программного кода не изменились –
				импортируются два модуля: приложение (import kivy. app) и элемент
				пользовательского интерфейса label – метка (import kivy.uix.label).
				Далее в базовом классе приложения (MainApp) определяем функцию c
				именем build. В данной функции мы определяет имя для нашего
				приложения – self. title (то, что будет отображаться в титульной строке
				приложения) и задаем собственную иконку. Для данного примера была
				взята иконка в виде логотипа Python – файл pyt. ico, который
				поместили в корневой каталог проекта. Задание собственной иконки для приложения выполнили с помощью строки программного кода –
				self. icon =». /pyt. ico’. В следующей строке программы создали метку
				и присвоили ей значение «Привет от Kivy и Python», а команда return
				вернет это значение приложению. Последние три строчки уже знакомы
				пользователям Python:<br>
				– определяем условие вызова приложения (if __name__);<br>
				– определяем само приложение с указанием заголовка главного окна
				(app = MainApp (title=«Первое приложение»);<br>
				– запускаем приложение на исполнение – app.run ().<br>
				Аналогичные изменения сделаем и для программного кода
				приложения на KivyMD (листинг 1.5).
				</p>
				<p><b>Листинг 1.5. Модифицированный программный код
					приложения на KivyMD (модуль First_App_KivyMD2.py)</b><br>
					# модуль First_App_KivyMD2.py<br>
					from kivymd. app import MDApp<br>
					from kivymd.uix.label import MDLabel<br>
					class MainApp (MDApp):<br>
					…….def build (self):<br>
					…… … … self. icon = 'icon.png’<br>
					…… … … self. title = «Приложение на KivyMD»<br>
					…… … …label = MDLabel (text=«Привет от KivyMD и Python»,<br>
					…… …… …… …… …… …… halign=«center»)<br>
					…… … … return label<br>
					if __name__ == '__main__»:<br>
					…… app = MainApp ()<br>
					…… app.run ()<br>
					</p>
					<p>Здесь в качестве логотипа использовано изображение из файла –
						icon.png.<br>
						После запуска этих двух программ получим следующий результат
						(рис.3.7).
						</p>
						<img src="https://sun9-west.userapi.com/sun9-55/s/v1/ig2/Wy-20KY68HMkAguUjgEErLf6ULZBVrentSGCgSVsvD2Uoix728v2a6HNLuAssbMNabnfMJgKWPCZQRwB0pxD47yO.jpg?size=535x429&quality=96&type=album">
						<p style="text-align:center"><b>Рис. 3.7. </b> Окна приложений на Kivy и KivyMD c собственным логотипом</p>
						<p>Как видно из данного рисунка, в титульной строке окна приложения
							появились пользовательские иконки и название приложения.</p>

				</div>
		</div>
    </div>
	<div id="bottom">
		<a href="topic2-4.html" class="buttons"><button class="button">Назад<span class="buttonhelp">Загрузка фреймворка Kivy и библиотеки
			KivyMD </span></button></a>	
		<a href="content.html" class="buttons"><button class="button">К содержанию<span class="buttonhelp">Перейти к перечню заголовков</span></button></a>
		<a href="../presentations/topic2_6/show.html" class="buttons"><button class="button">Далее<span class="buttonhelp">Презентация</span></button></a>	
		<hr><p>Обучение кроссплатформенному программированию</p>
	</div> 	
 </body>
</html>
<script type="text/javascript">
    $(document).ready(function() {
            $("body").css("display", "none");
      	    $("body").fadeIn(300);
	
	$("a.transition").click(function(event){
		event.preventDefault();
		linkLocation = this.href;
		$("body").fadeOut(300, redirectPage);
	});

	function redirectPage() {
		window.location = linkLocation;
	}    
	});
</script>
<script type="text/javascript">
	$(document).ready(function(){
		$("#back-top").hide();
		$(function () {
			$(window).scroll(function () {
				if ($(this).scrollTop() > 100) {
					$('#back-top').fadeIn();
				} else {
					$('#back-top').fadeOut();
				}
			});
			
			$('#back-top a').click(function () {
				$('body,html').animate({
					scrollTop: 0
				}, 800);
				return false;
			});
		});
	});
</script>